<div class="filter-shop d-flex flex-wrap justify-content-between mb-5">
  <div class="showing-product">
    <p>Showing {{ (pageIndex * pageSize) + 1 }}â€“{{ getEndIndex() }} of {{ totalItems }} results</p>
  </div>


  <div class="sort-by">
    <select id="sorting" class="form-select" (change)="onSortChange($event)">
      <option value="">Default sorting</option>
      <option value="Name (A - Z)">Author (A - Z)</option>
      <option value="Name (Z - A)">Author (Z - A)</option>
      <option value="Price (Low-High)">Price (Low-High)</option>
      <option value="Price (High-Low)">Price (High-Low)</option>
      <option value="Rating (Highest)">Rating (Highest)</option>
      <option value="Rating (Lowest)">Rating (Lowest)</option>
      <option value="Head (A - Z)">Book (A - Z)</option>
      <option value="Head (Z - A)">Book (Z - A)</option>
    </select>
  </div>
</div>

<div class="row product-content product-store">
  <ng-container *ngFor="let item of paginatedItems; let i = index">
    <div class="col-lg-3 col-md-4 mb-4">
      <div class="card position-relative p-4 border rounded-3">
        <div class="position-absolute">
          <p class="bg-primary py-1 px-3 fs-6 text-white rounded-2">{{ item.Offer }}</p>
        </div>
        <img src="{{ item.Image }}" class="img-fluid shadow-sm" alt="product item" />
        <h6 class="mt-4 mb-0 fw-bold"><a [routerLink]="['/singlePage']" (click)="goToView(item)">{{ item.Head }}</a>
        </h6>
        <div class="review-content d-flex">
          <p class="my-2 me-2 fs-6 text-black-50">{{ item.Name }}</p>
          <div class="rating text-warning d-flex align-items-center">
            <svg class="star star-fill">
              <use xlink:href="#star-fill"></use>
            </svg>
            <svg class="star star-fill">
              <use xlink:href="#star-fill"></use>
            </svg>
            <svg class="star star-fill">
              <use xlink:href="#star-fill"></use>
            </svg>
            <svg class="star star-fill">
              <use xlink:href="#star-fill"></use>
            </svg>
            <svg class="star star-fill">
              <use xlink:href="#star-fill"></use>
            </svg>
          </div>
        </div>
        <span class="price text-primary fw-bold mb-2 fs-5">${{ item.Price }}</span>
        <div class="card-concern position-absolute start-0 end-0 d-flex gap-2">
          <button type="button" class="btn btn-dark" (click)="addToCart(item)" data-bs-toggle="tooltip"
            data-bs-placement="top" data-bs-title="Tooltip on top">
            <svg class="cart">
              <use xlink:href="#cart"></use>
            </svg>
          </button>
          <a href="#" class="btn btn-dark">
            <span><svg class="wishlist">
                <use xlink:href="#heart"></use>
              </svg></span>
          </a>
        </div>
      </div>
    </div>
  </ng-container>
</div>

<nav class="py-5" aria-label="Page navigation">
  <ul class="pagination justify-content-center gap-4">
    <li class="page-item" [class.disabled]="pageIndex === 0">
      <a class="page-link" (click)="onPageChange(pageIndex - 1)" [attr.aria-disabled]="pageIndex === 0">Prev</a>
    </li>
    <li class="page-item" *ngFor="let page of [].constructor(totalPages); let i = index"
      [class.active]="i === pageIndex">
      <a class="page-link" (click)="onPageChange(i)">{{ i + 1 }}</a>
    </li>
    <li class="page-item" [class.disabled]="pageIndex === totalPages - 1">
      <a class="page-link" (click)="onPageChange(pageIndex + 1)"
        [attr.aria-disabled]="pageIndex === totalPages - 1">Next</a>
    </li>
  </ul>
</nav>